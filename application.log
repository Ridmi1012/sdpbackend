2025-05-23T13:04:45.501+05:30  INFO 15952 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 15952 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T13:04:45.508+05:30  INFO 15952 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T13:04:46.264+05:30  INFO 15952 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T13:04:46.355+05:30  INFO 15952 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 15 JPA repository interfaces.
2025-05-23T13:04:46.887+05:30  INFO 15952 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T13:04:46.899+05:30  INFO 15952 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T13:04:46.899+05:30  INFO 15952 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T13:04:46.951+05:30  INFO 15952 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T13:04:46.952+05:30  INFO 15952 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1393 ms
2025-05-23T13:04:47.518+05:30  INFO 15952 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T13:04:47.549+05:30  INFO 15952 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T13:04:47.923+05:30  INFO 15952 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45ad3cd8
2025-05-23T13:04:47.924+05:30  INFO 15952 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T13:04:49.173+05:30  INFO 15952 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:04:49.766+05:30  INFO 15952 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T13:04:50.804+05:30  WARN 15952 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T13:04:50.825+05:30  WARN 15952 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 8369c242-2e5a-4315-9dae-e66c6032998a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T13:04:50.832+05:30  INFO 15952 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T13:04:51.471+05:30  INFO 15952 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T13:04:51.478+05:30  INFO 15952 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 6.561 seconds (process running for 7.373)
2025-05-23T13:04:51.761+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T13:04:51.761+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T13:04:51.762+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T13:04:51.870+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:04:51.870+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:04:51.872+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:04:51.872+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:04:51.908+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:04:51.908+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:04:51.908+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:04:51.908+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:04.469+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:04.469+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:12.668+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:12.668+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:12.686+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:12.686+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:13.656+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:13.656+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:13.656+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:13.656+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:40.726+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:40.726+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:42.804+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:05:42.805+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:05:52.435+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:52.435+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:52.435+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:52.435+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:54.675+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:54.675+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:54.675+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:54.676+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:54.684+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:54.684+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:56.021+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:56.021+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:05:56.034+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:05:56.034+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:06:03.507+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:06:03.507+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:06:03.517+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.EventService      : Creating or updating event for order ID: 2, fully paid: true
2025-05-23T13:06:03.521+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.EventService      : Creating new event for order ID: 2
2025-05-23T13:06:03.528+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.EventService      : Event saved with ID: 2, payment status: PAID, color: #4CAF50
2025-05-23T13:06:03.529+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.EventService      : Event notification created for order ID: 2
2025-05-23T13:06:12.291+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:12.291+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:13.663+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:13.663+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:15.737+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:15.737+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:15.738+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 2
2025-05-23T13:06:15.745+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 2
2025-05-23T13:06:15.747+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T13:06:15.748+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Order 2 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T13:06:15.773+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:15.773+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:15.773+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:15.773+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:15.774+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 2
2025-05-23T13:06:15.774+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 2
2025-05-23T13:06:15.775+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 2
2025-05-23T13:06:15.778+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T13:06:15.785+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T13:06:15.787+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T13:06:15.787+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T13:06:15.788+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T13:06:15.788+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T13:06:15.789+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 2
2025-05-23T13:06:24.678+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:24.679+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:34.657+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:34.657+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:06:34.661+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Uploading payment slip for order: 2
2025-05-23T13:06:34.667+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=2, amount=5000.0
2025-05-23T13:06:34.669+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : No active payment found for order 2, creating new bank transfer payment
2025-05-23T13:06:34.669+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 2 with amount 5000.0
2025-05-23T13:06:34.670+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T13:06:34.671+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 25% Split - NO installment records created
2025-05-23T13:06:34.673+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 2 - NO installment records created
2025-05-23T13:06:34.677+05:30 ERROR 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Failed to upload payment slip: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null

java.lang.NullPointerException: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null
	at com.example.sdpbackend.service.PaymentService.getCurrentInstallmentNumber(PaymentService.java:438) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.createInstallmentRecordForCurrentPayment(PaymentService.java:742) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.uploadPaymentSlip(PaymentService.java:723) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.service.PaymentService$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at com.example.sdpbackend.controller.PaymentController.uploadPaymentSlip(PaymentController.java:252) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.controller.PaymentController$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.example.sdpbackend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:75) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-23T13:06:54.913+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:06:54.913+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:07:24.672+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:07:24.672+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:07:54.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:07:54.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:08:24.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:08:24.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:08:54.921+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:08:54.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:09:55.925+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:09:55.926+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:10:24.901+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:10:24.902+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:10:54.921+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:10:54.921+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:11:24.907+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:11:24.908+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:11:55.911+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:11:55.911+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:12:55.926+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:12:55.926+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:13:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:13:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:14:55.913+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:14:55.913+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:15:55.918+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:15:55.918+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:16:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:16:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:17:55.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:17:55.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:18:55.918+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:18:55.918+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:19:55.921+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:19:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:20:55.911+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:20:55.912+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:21:55.912+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:21:55.912+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:22:55.911+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:22:55.911+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:23:55.915+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:23:55.915+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:24:55.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:24:55.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:25:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:25:55.922+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:26:55.919+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:26:55.920+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:27:24.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:27:24.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:27:54.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:27:54.917+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:28:24.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:28:24.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:28:55.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:28:55.914+05:30  INFO 15952 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:29:41.906+05:30  INFO 15952 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T13:29:42.085+05:30  INFO 15952 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T13:29:42.091+05:30  INFO 15952 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:29:42.093+05:30  INFO 15952 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T13:29:42.097+05:30  INFO 15952 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T13:29:46.585+05:30  INFO 12384 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 12384 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T13:29:46.587+05:30  INFO 12384 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T13:29:47.142+05:30  INFO 12384 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T13:29:47.222+05:30  INFO 12384 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 15 JPA repository interfaces.
2025-05-23T13:29:47.650+05:30  INFO 12384 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T13:29:47.661+05:30  INFO 12384 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T13:29:47.661+05:30  INFO 12384 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T13:29:47.705+05:30  INFO 12384 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T13:29:47.706+05:30  INFO 12384 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1086 ms
2025-05-23T13:29:48.132+05:30  INFO 12384 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T13:29:48.156+05:30  INFO 12384 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T13:29:48.386+05:30  INFO 12384 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6cc90398
2025-05-23T13:29:48.387+05:30  INFO 12384 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T13:29:49.454+05:30  INFO 12384 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:29:49.829+05:30  INFO 12384 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T13:29:50.613+05:30  WARN 12384 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T13:29:50.630+05:30  WARN 12384 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e9470905-5c58-4250-866e-21073e0a766b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T13:29:50.636+05:30  INFO 12384 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T13:29:51.141+05:30  INFO 12384 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T13:29:51.147+05:30  INFO 12384 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 4.908 seconds (process running for 5.393)
2025-05-23T13:29:55.964+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T13:29:55.964+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T13:29:55.965+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T13:29:56.037+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:29:56.038+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:30:30.295+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:30:30.296+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:30:32.596+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:30:32.596+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:30:32.876+05:30 ERROR 12384 --- [sdpbackend] [http-nio-8083-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table 'sdpdbnew.order_items' doesn't exist
2025-05-23T13:31:21.844+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:31:21.845+05:30  INFO 12384 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:31:21.858+05:30 ERROR 12384 --- [sdpbackend] [http-nio-8083-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table 'sdpdbnew.orders' doesn't exist
2025-05-23T13:31:34.658+05:30  INFO 12384 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T13:31:34.834+05:30  INFO 12384 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T13:31:34.839+05:30  INFO 12384 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:31:34.840+05:30  INFO 12384 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T13:31:34.845+05:30  INFO 12384 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T13:31:36.605+05:30  INFO 13344 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 13344 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T13:31:36.607+05:30  INFO 13344 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T13:31:37.152+05:30  INFO 13344 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T13:31:37.228+05:30  INFO 13344 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 15 JPA repository interfaces.
2025-05-23T13:31:37.635+05:30  INFO 13344 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T13:31:37.644+05:30  INFO 13344 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T13:31:37.644+05:30  INFO 13344 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T13:31:37.685+05:30  INFO 13344 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T13:31:37.685+05:30  INFO 13344 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1045 ms
2025-05-23T13:31:38.083+05:30  INFO 13344 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T13:31:38.106+05:30  INFO 13344 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T13:31:38.328+05:30  INFO 13344 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b9c9b8b
2025-05-23T13:31:38.329+05:30  INFO 13344 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T13:31:40.079+05:30  INFO 13344 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:31:40.461+05:30  INFO 13344 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T13:31:41.233+05:30  WARN 13344 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T13:31:41.251+05:30  WARN 13344 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ec1791b4-9b8b-4e15-8427-2ef92772a20b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T13:31:41.256+05:30  INFO 13344 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T13:31:41.758+05:30  INFO 13344 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T13:31:41.767+05:30  INFO 13344 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 5.533 seconds (process running for 6.071)
2025-05-23T13:31:46.168+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T13:31:46.169+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T13:31:46.172+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-23T13:31:46.282+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:31:46.283+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:31:56.561+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:31:56.562+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:31:56.591+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:31:56.591+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:31:56.591+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:31:56.591+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:32:42.425+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:32:42.425+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:32:44.538+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:32:44.538+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:32:52.896+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:52.896+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:52.897+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:52.897+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:55.696+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:55.696+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:55.697+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:55.697+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:55.706+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:55.707+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:56.830+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:56.831+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:32:56.843+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:32:56.844+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:33:05.347+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T13:33:05.347+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T13:33:05.356+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.EventService      : Creating or updating event for order ID: 1, fully paid: true
2025-05-23T13:33:05.361+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.EventService      : Creating new event for order ID: 1
2025-05-23T13:33:05.366+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.EventService      : Event saved with ID: 1, payment status: PAID, color: #4CAF50
2025-05-23T13:33:05.366+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.EventService      : Event notification created for order ID: 1
2025-05-23T13:33:13.021+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:13.021+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:14.280+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:14.280+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:15.482+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:15.482+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:15.483+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T13:33:15.490+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T13:33:15.493+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T13:33:15.494+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T13:33:15.518+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:15.518+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:15.518+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:15.518+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:15.519+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T13:33:15.519+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 1
2025-05-23T13:33:15.520+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T13:33:15.523+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T13:33:15.529+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T13:33:15.531+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T13:33:15.532+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T13:33:15.533+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T13:33:15.533+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T13:33:15.534+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 1
2025-05-23T13:33:25.698+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:25.698+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:28.706+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:28.706+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:33:28.709+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T13:33:28.716+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T13:33:28.717+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : No active payment found for order 1, creating new bank transfer payment
2025-05-23T13:33:28.717+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 1 with amount 5000.0
2025-05-23T13:33:28.719+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T13:33:28.719+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 25% Split - NO installment records created
2025-05-23T13:33:28.721+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 1 - NO installment records created
2025-05-23T13:33:28.726+05:30 ERROR 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Failed to upload payment slip: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null

java.lang.NullPointerException: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null
	at com.example.sdpbackend.service.PaymentService.getCurrentInstallmentNumber(PaymentService.java:438) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.createInstallmentRecordForCurrentPayment(PaymentService.java:742) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.uploadPaymentSlip(PaymentService.java:723) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.service.PaymentService$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at com.example.sdpbackend.controller.PaymentController.uploadPaymentSlip(PaymentController.java:253) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.controller.PaymentController$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.example.sdpbackend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:75) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-23T13:33:55.694+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:33:55.694+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:34:25.905+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:34:25.905+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:34:55.923+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:34:55.923+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:35:25.919+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:35:25.919+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:35:55.921+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:35:55.922+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:36:25.916+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:36:25.916+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:36:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:36:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:37:55.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:37:55.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:38:55.918+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:38:55.918+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:39:55.915+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:39:55.915+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:40:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:40:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:41:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:41:55.914+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:42:55.922+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:42:55.922+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:43:55.921+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:43:55.921+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:44:55.908+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:44:55.908+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:45:55.915+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:45:55.915+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:46:55.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:46:55.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:47:55.926+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:47:55.927+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:48:55.925+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:48:55.926+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:49:50.508+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:49:50.508+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:49:55.696+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:49:55.696+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:25.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:50:25.917+05:30  INFO 13344 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:27.634+05:30  INFO 13344 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T13:50:27.808+05:30  INFO 13344 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T13:50:27.812+05:30  INFO 13344 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:50:27.814+05:30  INFO 13344 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T13:50:27.818+05:30  INFO 13344 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T13:50:29.634+05:30  INFO 11148 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 11148 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T13:50:29.636+05:30  INFO 11148 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T13:50:30.236+05:30  INFO 11148 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T13:50:30.329+05:30  INFO 11148 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 15 JPA repository interfaces.
2025-05-23T13:50:30.752+05:30  INFO 11148 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T13:50:30.762+05:30  INFO 11148 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T13:50:30.762+05:30  INFO 11148 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T13:50:30.801+05:30  INFO 11148 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T13:50:30.802+05:30  INFO 11148 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1132 ms
2025-05-23T13:50:31.217+05:30  INFO 11148 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T13:50:31.241+05:30  INFO 11148 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T13:50:31.474+05:30  INFO 11148 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a7f9d45
2025-05-23T13:50:31.477+05:30  INFO 11148 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T13:50:32.795+05:30  INFO 11148 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:50:33.188+05:30  INFO 11148 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T13:50:34.015+05:30  WARN 11148 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T13:50:34.035+05:30  WARN 11148 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fafa3cd2-2dd3-4847-b575-c1653729248c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T13:50:34.042+05:30  INFO 11148 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T13:50:34.579+05:30  INFO 11148 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T13:50:34.586+05:30  INFO 11148 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 5.346 seconds (process running for 5.942)
2025-05-23T13:50:51.727+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T13:50:51.727+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T13:50:51.728+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T13:50:51.836+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:50:51.838+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:53.669+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:50:53.669+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:53.672+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T13:50:53.696+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T13:50:53.699+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T13:50:53.710+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T13:50:53.732+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:50:53.733+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:53.733+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:50:53.734+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:50:53.735+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T13:50:53.735+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 1
2025-05-23T13:50:53.736+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T13:50:53.740+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T13:50:53.750+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T13:50:53.753+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T13:50:53.755+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T13:50:53.757+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T13:50:53.757+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T13:50:53.759+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 1
2025-05-23T13:51:09.184+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T13:51:09.184+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T13:51:09.205+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T13:51:09.213+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T13:51:09.214+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : No active payment found for order 1, creating new bank transfer payment
2025-05-23T13:51:09.215+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 1 with amount 5000.0
2025-05-23T13:51:09.216+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T13:51:09.216+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 25% Split - NO installment records created
2025-05-23T13:51:09.237+05:30  INFO 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 2 - NO installment records created
2025-05-23T13:51:09.240+05:30 ERROR 11148 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Failed to upload payment slip: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null

java.lang.NullPointerException: Cannot invoke "com.example.sdpbackend.entity.Installment.getInstallmentNumber()" because the return value of "com.example.sdpbackend.entity.Payment.getCurrentInstallment()" is null
	at com.example.sdpbackend.service.PaymentService.getCurrentInstallmentNumber(PaymentService.java:438) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.createInstallmentRecordForCurrentPayment(PaymentService.java:742) ~[classes/:na]
	at com.example.sdpbackend.service.PaymentService.uploadPaymentSlip(PaymentService.java:723) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.service.PaymentService$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at com.example.sdpbackend.controller.PaymentController.uploadPaymentSlip(PaymentController.java:253) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.example.sdpbackend.controller.PaymentController$$SpringCGLIB$$0.uploadPaymentSlip(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.example.sdpbackend.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:75) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]

2025-05-23T13:59:56.432+05:30  INFO 11148 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T13:59:56.602+05:30  INFO 11148 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T13:59:56.606+05:30  INFO 11148 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T13:59:56.608+05:30  INFO 11148 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T13:59:56.612+05:30  INFO 11148 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T14:00:00.914+05:30  INFO 16104 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 16104 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T14:00:00.915+05:30  INFO 16104 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T14:00:01.497+05:30  INFO 16104 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T14:00:01.576+05:30  INFO 16104 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 15 JPA repository interfaces.
2025-05-23T14:00:01.990+05:30  INFO 16104 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T14:00:01.999+05:30  INFO 16104 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T14:00:01.999+05:30  INFO 16104 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T14:00:02.040+05:30  INFO 16104 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T14:00:02.040+05:30  INFO 16104 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1093 ms
2025-05-23T14:00:02.461+05:30  INFO 16104 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T14:00:02.484+05:30  INFO 16104 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T14:00:02.716+05:30  INFO 16104 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8aa5ab4
2025-05-23T14:00:02.718+05:30  INFO 16104 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T14:00:03.788+05:30  INFO 16104 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T14:00:04.172+05:30  INFO 16104 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T14:00:05.003+05:30  WARN 16104 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T14:00:05.022+05:30  WARN 16104 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d000841c-7f17-4b83-9da4-9f9e0254d5a8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T14:00:05.029+05:30  INFO 16104 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T14:00:05.548+05:30  INFO 16104 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T14:00:05.555+05:30  INFO 16104 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 4.991 seconds (process running for 5.479)
2025-05-23T14:00:09.685+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T14:00:09.685+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T14:00:09.686+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T14:00:09.767+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T14:00:09.768+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T14:00:09.813+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T14:00:09.926+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T14:00:09.933+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T14:00:09.945+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T14:00:10.001+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T14:00:10.001+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T14:00:10.001+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T14:00:10.001+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T14:00:10.003+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 1
2025-05-23T14:00:10.003+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T14:00:10.003+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T14:00:10.007+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T14:00:10.013+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T14:00:10.015+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T14:00:10.016+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T14:00:10.017+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T14:00:10.017+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T14:00:10.018+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 1
2025-05-23T14:00:24.152+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T14:00:24.152+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T14:00:24.172+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T14:00:24.180+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T14:00:24.181+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : No active payment found for order 1, creating new bank transfer payment
2025-05-23T14:00:24.181+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 1 with amount 5000.0
2025-05-23T14:00:24.183+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T14:00:24.183+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 25% Split - NO installment records created
2025-05-23T14:00:24.204+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 3 - NO installment records created
2025-05-23T14:00:24.218+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 1 for payment 3 with slip upload
2025-05-23T14:00:24.225+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 3
2025-05-23T14:00:26.345+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T14:00:26.345+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T14:00:51.661+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T14:00:51.661+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T14:00:51.661+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T14:00:51.661+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T14:00:55.257+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T14:00:55.257+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T14:00:55.257+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T14:00:55.257+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T14:00:55.258+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T14:00:55.258+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T14:00:55.270+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Successfully fetched 0 recently verified payments totaling Rs. 0.0
2025-05-23T14:00:55.271+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T14:01:09.333+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T14:01:09.334+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T14:01:09.338+05:30  INFO 16104 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, payment ID: 1
2025-05-23T14:01:09.342+05:30 ERROR 16104 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Payment not found with ID: 1
2025-05-23T14:01:46.831+05:30  INFO 16104 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T14:01:47.004+05:30  INFO 16104 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T14:01:47.008+05:30  INFO 16104 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T14:01:47.009+05:30  INFO 16104 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T14:01:47.013+05:30  INFO 16104 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T19:49:08.635+05:30  INFO 11156 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 11156 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T19:49:08.637+05:30  INFO 11156 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T19:49:09.480+05:30  INFO 11156 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T19:49:09.572+05:30  INFO 11156 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 85 ms. Found 15 JPA repository interfaces.
2025-05-23T19:49:10.122+05:30  INFO 11156 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T19:49:10.134+05:30  INFO 11156 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T19:49:10.134+05:30  INFO 11156 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T19:49:10.189+05:30  INFO 11156 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T19:49:10.190+05:30  INFO 11156 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1504 ms
2025-05-23T19:49:10.736+05:30  INFO 11156 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T19:49:10.772+05:30  INFO 11156 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T19:49:11.156+05:30  INFO 11156 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@13404f75
2025-05-23T19:49:11.158+05:30  INFO 11156 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T19:49:12.361+05:30  INFO 11156 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T19:49:12.844+05:30  INFO 11156 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T19:49:13.658+05:30  WARN 11156 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T19:49:13.678+05:30  WARN 11156 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 2a0a0870-e81a-43e5-b5df-b222e6bd97fc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T19:49:13.683+05:30  INFO 11156 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T19:49:14.251+05:30  INFO 11156 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T19:49:14.258+05:30  INFO 11156 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 6.201 seconds (process running for 7.131)
2025-05-23T19:49:20.856+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T19:49:20.856+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T19:49:20.858+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-23T19:49:21.032+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:49:21.032+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:49:21.032+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:49:21.032+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:49:21.054+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:49:21.054+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:49:21.054+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:49:21.054+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:49:33.238+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:49:33.239+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:49:35.719+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:49:35.719+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:49:35.720+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T19:49:35.731+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T19:49:35.774+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=partial
2025-05-23T19:49:35.775+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 1, total paid: 0.0)
2025-05-23T19:49:35.796+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:49:35.797+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:49:35.798+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T19:49:35.811+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Installment options for order 1: 0/4 completed
2025-05-23T19:50:31.357+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:50:31.357+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:50:31.362+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T19:50:31.369+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T19:50:31.376+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Updated existing installment 1 with new payment slip
2025-05-23T19:50:31.393+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 3
2025-05-23T19:50:33.501+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:50:33.502+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:51:05.825+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T19:51:05.826+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T19:51:05.833+05:30  WARN 11156 --- [sdpbackend] [http-nio-8083-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T19:51:20.382+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:51:20.382+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:51:20.382+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:51:20.382+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:51:22.871+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:51:22.871+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:51:22.871+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:51:22.871+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:51:22.872+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T19:51:22.872+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T19:51:22.880+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Successfully fetched 0 recently verified payments totaling Rs. 0.0
2025-05-23T19:51:22.884+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T19:51:30.898+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T19:51:30.898+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T19:51:30.902+05:30  INFO 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, payment ID: 1
2025-05-23T19:51:30.905+05:30 ERROR 11156 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Payment not found with ID: 1
2025-05-23T19:59:16.538+05:30  INFO 11156 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T19:59:16.715+05:30  INFO 11156 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T19:59:16.720+05:30  INFO 11156 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T19:59:16.722+05:30  INFO 11156 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T19:59:16.727+05:30  INFO 11156 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T20:04:25.255+05:30  INFO 22404 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 22404 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T20:04:25.257+05:30  INFO 22404 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T20:04:25.810+05:30  INFO 22404 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T20:04:25.893+05:30  INFO 22404 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 15 JPA repository interfaces.
2025-05-23T20:04:26.297+05:30  INFO 22404 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T20:04:26.306+05:30  INFO 22404 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T20:04:26.307+05:30  INFO 22404 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T20:04:26.346+05:30  INFO 22404 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T20:04:26.347+05:30  INFO 22404 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1059 ms
2025-05-23T20:04:26.746+05:30  INFO 22404 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T20:04:26.769+05:30  INFO 22404 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T20:04:26.988+05:30  INFO 22404 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45ad3cd8
2025-05-23T20:04:26.990+05:30  INFO 22404 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T20:04:28.012+05:30  INFO 22404 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T20:04:28.394+05:30  INFO 22404 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T20:04:29.154+05:30  WARN 22404 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T20:04:29.172+05:30  WARN 22404 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 8fef4470-8285-4878-b7da-ca95022be6d0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T20:04:29.178+05:30  INFO 22404 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T20:04:29.665+05:30  INFO 22404 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T20:04:29.671+05:30  INFO 22404 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 4.749 seconds (process running for 5.21)
2025-05-23T20:04:36.835+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T20:04:36.835+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T20:04:36.836+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T20:04:36.969+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.969+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.969+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.969+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.971+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:36.971+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:36.971+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:36.971+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:36.993+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.993+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:36.994+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:36.994+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:37.038+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:04:37.038+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:04:37.170+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 0 recently verified payments totaling Rs. 0.0
2025-05-23T20:04:37.208+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:04:43.479+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:43.479+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:43.495+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, installment ID: 1
2025-05-23T20:04:43.504+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=1, installmentId=1, approved=true
2025-05-23T20:04:43.506+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Approved installment 1 for payment 3 by rid123
2025-05-23T20:04:43.560+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Created installment 2/4 with amount 5000.0 for payment 3
2025-05-23T20:04:43.560+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Created next installment 2 for payment 3
2025-05-23T20:04:43.561+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Moved to next installment: 2
2025-05-23T20:04:43.563+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 1
2025-05-23T20:04:43.563+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Installment approved successfully for order: 1 by admin
2025-05-23T20:04:43.588+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:43.588+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:04:43.588+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:43.588+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:04:43.589+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:04:43.589+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:04:43.599+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:04:43.599+05:30  INFO 22404 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 1 recently verified payments totaling Rs. 5000.0
2025-05-23T20:20:08.602+05:30  INFO 22404 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T20:20:08.780+05:30  INFO 22404 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T20:20:08.785+05:30  INFO 22404 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T20:20:08.786+05:30  INFO 22404 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T20:20:08.790+05:30  INFO 22404 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T20:20:12.707+05:30  INFO 2740 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 2740 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T20:20:12.709+05:30  INFO 2740 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T20:20:13.249+05:30  INFO 2740 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T20:20:13.323+05:30  INFO 2740 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 15 JPA repository interfaces.
2025-05-23T20:20:13.739+05:30  INFO 2740 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T20:20:13.749+05:30  INFO 2740 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T20:20:13.749+05:30  INFO 2740 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T20:20:13.788+05:30  INFO 2740 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T20:20:13.788+05:30  INFO 2740 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1049 ms
2025-05-23T20:20:14.195+05:30  INFO 2740 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T20:20:14.218+05:30  INFO 2740 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T20:20:14.436+05:30  INFO 2740 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62360a68
2025-05-23T20:20:14.438+05:30  INFO 2740 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T20:20:15.554+05:30  INFO 2740 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T20:20:15.946+05:30  INFO 2740 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T20:20:16.743+05:30  WARN 2740 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T20:20:16.760+05:30  WARN 2740 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e4faefdd-64cd-485e-a23a-4f6e01040801

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T20:20:16.766+05:30  INFO 2740 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T20:20:17.274+05:30  INFO 2740 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T20:20:17.280+05:30  INFO 2740 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 4.911 seconds (process running for 5.368)
2025-05-23T20:21:04.859+05:30  INFO 2740 --- [sdpbackend] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-23T20:21:05.035+05:30  INFO 2740 --- [sdpbackend] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-23T20:21:05.039+05:30  INFO 2740 --- [sdpbackend] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T20:21:05.040+05:30  INFO 2740 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-23T20:21:05.045+05:30  INFO 2740 --- [sdpbackend] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-23T20:21:07.262+05:30  INFO 13276 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Starting SdpbackendApplication using Java 20.0.2 with PID 13276 (C:\Users\User\Desktop\SDP\SDPBE\target\classes started by User in C:\Users\User\Desktop\SDP\SDPBE)
2025-05-23T20:21:07.264+05:30  INFO 13276 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-23T20:21:07.792+05:30  INFO 13276 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-23T20:21:07.867+05:30  INFO 13276 --- [sdpbackend] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 15 JPA repository interfaces.
2025-05-23T20:21:08.268+05:30  INFO 13276 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8083 (http)
2025-05-23T20:21:08.278+05:30  INFO 13276 --- [sdpbackend] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-23T20:21:08.278+05:30  INFO 13276 --- [sdpbackend] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-23T20:21:08.318+05:30  INFO 13276 --- [sdpbackend] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-23T20:21:08.319+05:30  INFO 13276 --- [sdpbackend] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1024 ms
2025-05-23T20:21:08.728+05:30  INFO 13276 --- [sdpbackend] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-23T20:21:08.752+05:30  INFO 13276 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-23T20:21:08.982+05:30  INFO 13276 --- [sdpbackend] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3caf5c96
2025-05-23T20:21:08.983+05:30  INFO 13276 --- [sdpbackend] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-23T20:21:10.172+05:30  INFO 13276 --- [sdpbackend] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-23T20:21:10.558+05:30  INFO 13276 --- [sdpbackend] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-23T20:21:11.327+05:30  WARN 13276 --- [sdpbackend] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-23T20:21:11.344+05:30  WARN 13276 --- [sdpbackend] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 319ed9ba-16a0-4a6a-8b1a-c467d199d744

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-23T20:21:11.350+05:30  INFO 13276 --- [sdpbackend] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-05-23T20:21:11.835+05:30  INFO 13276 --- [sdpbackend] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8083 (http) with context path '/'
2025-05-23T20:21:11.841+05:30  INFO 13276 --- [sdpbackend] [main] c.e.sdpbackend.SdpbackendApplication     : Started SdpbackendApplication in 5.341 seconds (process running for 5.941)
2025-05-23T20:21:20.808+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-23T20:21:20.809+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-23T20:21:20.810+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-23T20:21:20.896+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.896+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.896+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.896+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.897+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.897+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.897+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.897+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.911+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.911+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:21:20.912+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.912+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:21:20.934+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:21:20.934+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:21:21.007+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:21:21.008+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 0 recently verified payments totaling Rs. 0.0
2025-05-23T20:21:31.463+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:31.464+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:34.010+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:34.011+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:34.012+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:21:34.022+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:21:34.025+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T20:21:34.036+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T20:21:39.519+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:39.520+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:45.562+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:45.562+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:45.563+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:21:45.571+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:21:45.572+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T20:21:45.573+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T20:21:45.598+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:45.599+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:45.600+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:21:45.602+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:45.603+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:45.604+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 1
2025-05-23T20:21:45.606+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T20:21:45.611+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T20:21:45.620+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:21:45.622+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T20:21:45.624+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T20:21:45.625+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T20:21:45.625+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T20:21:45.626+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 1
2025-05-23T20:21:52.799+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:21:52.799+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:21:52.806+05:30  WARN 13276 --- [sdpbackend] [http-nio-8083-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T20:22:10.793+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:10.793+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:10.794+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:22:10.801+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:22:10.802+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=20000.0, status=pending
2025-05-23T20:22:10.803+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Order 1 payment summary - Total: 20000.0, Paid: 0.0, Remaining: 20000.0, Status: pending
2025-05-23T20:22:10.821+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:10.821+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:10.821+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:10.821+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:10.822+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 1
2025-05-23T20:22:10.822+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:22:10.823+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T20:22:10.826+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T20:22:10.831+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:22:10.832+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T20:22:10.834+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T20:22:10.835+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T20:22:10.835+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T20:22:10.837+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Found 4 available installment plans for order 1
2025-05-23T20:22:26.556+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:26.556+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:26.561+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T20:22:26.569+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T20:22:26.570+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : No active payment found for order 1, creating new bank transfer payment
2025-05-23T20:22:26.570+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 1 with amount 5000.0
2025-05-23T20:22:26.572+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T20:22:26.572+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 25% Split - NO installment records created
2025-05-23T20:22:26.593+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 1 - NO installment records created
2025-05-23T20:22:26.604+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 1 for payment 1 with slip upload (ONLY current installment)
2025-05-23T20:22:26.610+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 1
2025-05-23T20:22:28.728+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:28.728+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:28.730+05:30  WARN 13276 --- [sdpbackend] [http-nio-8083-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T20:22:28.737+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:28.737+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:28.738+05:30  WARN 13276 --- [sdpbackend] [http-nio-8083-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T20:22:38.336+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:38.336+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:38.336+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:38.336+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:40.339+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:40.339+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:40.340+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:40.340+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:40.340+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:22:40.340+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:22:40.347+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Successfully fetched 0 recently verified payments totaling Rs. 0.0
2025-05-23T20:22:40.355+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:22:42.425+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:42.425+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:42.430+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, installment ID: 1
2025-05-23T20:22:42.436+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=1, installmentId=1, approved=true
2025-05-23T20:22:42.437+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Approved installment 1 for payment 1 by rid123
2025-05-23T20:22:42.441+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Updated current installment to: 2 (no record created yet)
2025-05-23T20:22:42.442+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 1
2025-05-23T20:22:42.442+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Installment approved successfully for order: 1 by admin
2025-05-23T20:22:42.457+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:42.457+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:22:42.458+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:42.458+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:22:42.458+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:22:42.458+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:22:42.462+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:22:42.466+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Successfully fetched 1 recently verified payments totaling Rs. 5000.0
2025-05-23T20:22:53.384+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:53.385+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:56.966+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:56.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:56.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:22:56.974+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:22:56.988+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=5000.0, remaining=15000.0, status=partial
2025-05-23T20:22:56.989+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 2, total paid: 5000.0)
2025-05-23T20:22:57.002+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:22:57.003+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:22:57.004+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:22:57.014+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Installment options for order 1: 1/4 completed
2025-05-23T20:23:15.094+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:15.094+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:15.097+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Initiating PayHere payment for order ID: 1 with installment plan: 4 installment: 2
2025-05-23T20:23:15.103+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 1
2025-05-23T20:23:15.103+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Order timing: 50 days until event, 7 weeks
2025-05-23T20:23:15.106+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:23:15.107+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T20:23:15.107+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T20:23:15.108+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan available: 25% Split (4 installments)
2025-05-23T20:23:15.108+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Total available plans: 4
2025-05-23T20:23:15.109+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Processing payment: orderId=1, amount=5000.0, method=payhere, installmentPlan=4
2025-05-23T20:23:15.109+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Payment deadline validation passed. Deadline: 2025-07-11T20:00, Current time: 2025-05-23T20:23:15.109441700
2025-05-23T20:23:15.109+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Initiating PayHere payment for order: 1
2025-05-23T20:23:15.110+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 4 installments, 50 days until event, 7 weeks
2025-05-23T20:23:15.110+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Generated PayHere parameters for order: 1 (NO DB records created)
2025-05-23T20:23:18.808+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:18.808+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:29.087+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:29.087+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:29.088+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:23:29.095+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:23:29.107+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=5000.0, remaining=15000.0, status=partial
2025-05-23T20:23:29.108+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 2, total paid: 5000.0)
2025-05-23T20:23:29.134+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:29.134+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:29.135+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:23:29.143+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Installment options for order 1: 1/4 completed
2025-05-23T20:23:43.824+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:43.824+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:43.825+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T20:23:43.831+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T20:23:43.836+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 2 for payment 1 with slip upload (ONLY current installment)
2025-05-23T20:23:43.838+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 2 for payment 1
2025-05-23T20:23:45.946+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:23:45.947+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:23:53.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:53.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:53.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:53.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:55.571+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:55.571+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:55.571+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:55.571+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:55.572+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:23:55.572+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:23:55.579+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:23:55.579+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 1 recently verified payments totaling Rs. 5000.0
2025-05-23T20:23:57.772+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:57.773+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:57.774+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, installment ID: 2
2025-05-23T20:23:57.779+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=1, installmentId=2, approved=true
2025-05-23T20:23:57.779+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Approved installment 2 for payment 1 by rid123
2025-05-23T20:23:57.782+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Updated current installment to: 3 (no record created yet)
2025-05-23T20:23:57.783+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 2
2025-05-23T20:23:57.783+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Installment approved successfully for order: 1 by admin
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:23:57.797+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:23:57.801+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:23:57.806+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Successfully fetched 2 recently verified payments totaling Rs. 10000.0
2025-05-23T20:24:07.817+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:24:07.817+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:24:09.759+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:24:09.759+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:24:09.760+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:24:09.766+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:24:09.777+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=10000.0, remaining=10000.0, status=partial
2025-05-23T20:24:09.778+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 3, total paid: 10000.0)
2025-05-23T20:24:09.786+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:24:09.786+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:24:09.787+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:24:09.794+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Installment options for order 1: 2/4 completed
2025-05-23T20:24:36.089+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:24:36.089+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:24:36.090+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T20:24:36.096+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T20:24:36.101+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 3 for payment 1 with slip upload (ONLY current installment)
2025-05-23T20:24:36.104+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 3 for payment 1
2025-05-23T20:24:38.211+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:24:38.211+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:24:45.542+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:45.542+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:45.542+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:45.542+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:47.553+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:47.553+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:47.554+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:47.554+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:47.554+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:24:47.554+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:24:47.564+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:24:47.565+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Successfully fetched 2 recently verified payments totaling Rs. 10000.0
2025-05-23T20:24:49.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:49.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:49.646+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, installment ID: 3
2025-05-23T20:24:49.650+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=1, installmentId=3, approved=true
2025-05-23T20:24:49.650+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Approved installment 3 for payment 1 by rid123
2025-05-23T20:24:49.653+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Updated current installment to: 4 (no record created yet)
2025-05-23T20:24:49.654+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 3
2025-05-23T20:24:49.654+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Installment approved successfully for order: 1 by admin
2025-05-23T20:24:49.667+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:49.667+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:24:49.668+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:49.668+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:24:49.668+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:24:49.668+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:24:49.671+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:24:49.678+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Successfully fetched 3 recently verified payments totaling Rs. 15000.0
2025-05-23T20:25:01.108+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:01.108+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:02.974+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:02.974+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:02.974+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:25:02.981+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:25:02.993+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=15000.0, remaining=5000.0, status=partial
2025-05-23T20:25:02.993+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 4, total paid: 15000.0)
2025-05-23T20:25:03.001+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:03.001+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:03.002+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 1
2025-05-23T20:25:03.009+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Installment options for order 1: 3/4 completed
2025-05-23T20:25:23.530+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:23.531+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:23.532+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Uploading payment slip for order: 1
2025-05-23T20:25:23.537+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=1, amount=5000.0
2025-05-23T20:25:23.543+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 4 for payment 1 with slip upload (ONLY current installment)
2025-05-23T20:25:23.544+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 4 for payment 1
2025-05-23T20:25:25.640+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:25.641+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:32.324+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:32.324+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:32.324+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:32.324+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:34.448+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:34.448+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:34.448+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:34.448+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:34.449+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:25:34.449+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:25:34.455+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:25:34.458+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Successfully fetched 3 recently verified payments totaling Rs. 15000.0
2025-05-23T20:25:36.098+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:36.098+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:36.100+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 1, installment ID: 4
2025-05-23T20:25:36.103+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=1, installmentId=4, approved=true
2025-05-23T20:25:36.103+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Approved installment 4 for payment 1 by rid123
2025-05-23T20:25:36.106+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : All installments completed for payment: 1
2025-05-23T20:25:36.106+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 4
2025-05-23T20:25:36.106+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Installment approved successfully for order: 1 by admin
2025-05-23T20:25:36.120+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:36.120+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:25:36.120+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:36.120+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:25:36.121+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:25:36.121+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:25:36.123+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:25:36.128+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 4 recently verified payments totaling Rs. 20000.0
2025-05-23T20:25:46.672+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:46.672+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:48.393+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:48.393+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:48.394+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:25:48.399+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:25:48.409+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=20000.0, remaining=0.0, status=partial
2025-05-23T20:25:48.410+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 4, total paid: 20000.0)
2025-05-23T20:25:53.095+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:25:53.095+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:25:53.096+05:30  WARN 13276 --- [sdpbackend] [http-nio-8083-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T20:27:28.273+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:27:28.274+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:27:28.274+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 1
2025-05-23T20:27:28.280+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 1
2025-05-23T20:27:28.289+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=20000.0, remaining=0.0, status=partial
2025-05-23T20:27:28.290+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Order 1 has installment plan: 25% Split (4 installments, current: 4, total paid: 20000.0)
2025-05-23T20:27:36.996+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:27:36.996+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:27:37.012+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:27:37.012+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:27:37.782+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:27:37.782+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:27:37.782+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:27:37.782+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:09.200+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:09.200+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:11.239+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:11.239+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:19.389+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:19.389+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:19.389+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:19.390+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:22.906+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:22.906+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:22.907+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:22.908+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:22.914+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:22.914+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:24.357+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:24.357+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:24.367+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:24.367+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:35.700+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:28:35.700+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:28:35.706+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.EventService      : Creating or updating event for order ID: 2, fully paid: true
2025-05-23T20:28:35.708+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.EventService      : Creating new event for order ID: 2
2025-05-23T20:28:35.712+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.EventService      : Event saved with ID: 2, payment status: PAID, color: #4CAF50
2025-05-23T20:28:35.712+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.EventService      : Event notification created for order ID: 2
2025-05-23T20:28:46.378+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:46.378+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:47.624+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:47.624+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:51.000+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:51.000+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:51.001+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 2
2025-05-23T20:28:51.005+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 2
2025-05-23T20:28:51.006+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=21000.0, status=pending
2025-05-23T20:28:51.007+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Order 2 payment summary - Total: 21000.0, Paid: 0.0, Remaining: 21000.0, Status: pending
2025-05-23T20:28:51.019+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:51.019+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:51.019+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:51.019+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:28:51.020+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 2
2025-05-23T20:28:51.020+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 2
2025-05-23T20:28:51.020+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 2
2025-05-23T20:28:51.022+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Order timing: 21 days until event, 3 weeks
2025-05-23T20:28:51.024+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:28:51.025+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: 50% Split (2 installments)
2025-05-23T20:28:51.025+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: 33% Split (3 installments)
2025-05-23T20:28:51.026+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan not available: 25% Split (4 installments) - insufficient time
2025-05-23T20:28:51.026+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Total available plans: 3
2025-05-23T20:28:51.026+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Found 3 available installment plans for order 2
2025-05-23T20:28:52.911+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:28:52.911+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:29:22.907+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:29:22.907+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:29:30.377+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:29:30.377+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:29:30.379+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Uploading payment slip for order: 2
2025-05-23T20:29:30.385+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=2, amount=10500.0
2025-05-23T20:29:30.386+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : No active payment found for order 2, creating new bank transfer payment
2025-05-23T20:29:30.386+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 2 with amount 10500.0
2025-05-23T20:29:30.387+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Validating installment plan: 2 installments, 21 days until event, 3 weeks
2025-05-23T20:29:30.387+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Created installment payment setup with plan: 50% Split - NO installment records created
2025-05-23T20:29:30.388+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 2 - NO installment records created
2025-05-23T20:29:30.391+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 1 for payment 2 with slip upload (ONLY current installment)
2025-05-23T20:29:30.393+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 2
2025-05-23T20:29:33.494+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:29:33.494+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:29:52.062+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:52.062+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:52.063+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:52.063+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:52.068+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:52.069+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:52.906+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:52.906+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:29:54.362+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:29:54.369+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:29:54.372+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Successfully fetched 4 recently verified payments totaling Rs. 20000.0
2025-05-23T20:29:56.107+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:56.107+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:56.109+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 2, installment ID: 5
2025-05-23T20:29:56.112+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=2, installmentId=5, approved=true
2025-05-23T20:29:56.112+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Approved installment 1 for payment 2 by rid123
2025-05-23T20:29:56.114+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Updated current installment to: 2 (no record created yet)
2025-05-23T20:29:56.115+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 5
2025-05-23T20:29:56.115+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Installment approved successfully for order: 2 by admin
2025-05-23T20:29:56.127+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:56.127+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:29:56.128+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:56.128+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:29:56.128+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:29:56.128+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:29:56.131+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:29:56.139+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Successfully fetched 5 recently verified payments totaling Rs. 30500.0
2025-05-23T20:30:04.716+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:04.716+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:05.944+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:05.944+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:07.469+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:07.469+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:07.470+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 2
2025-05-23T20:30:07.475+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 2
2025-05-23T20:30:07.481+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=10500.0, remaining=10500.0, status=partial
2025-05-23T20:30:07.482+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Order 2 has installment plan: 50% Split (2 installments, current: 2, total paid: 10500.0)
2025-05-23T20:30:07.488+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:07.489+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:07.489+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 2
2025-05-23T20:30:07.495+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Installment options for order 2: 1/2 completed
2025-05-23T20:30:22.905+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:22.905+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:38.064+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:38.064+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:38.065+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Uploading payment slip for order: 2
2025-05-23T20:30:38.070+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=2, amount=10500.0
2025-05-23T20:30:38.074+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 2 for payment 2 with slip upload (ONLY current installment)
2025-05-23T20:30:38.076+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 2 for payment 2
2025-05-23T20:30:40.179+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:30:40.179+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:30:47.425+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:47.425+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:47.426+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:47.426+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:47.432+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:47.433+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:30:50.849+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:30:50.855+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:30:50.860+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Successfully fetched 5 recently verified payments totaling Rs. 30500.0
2025-05-23T20:30:52.475+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:52.475+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:52.477+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 2, installment ID: 6
2025-05-23T20:30:52.480+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=2, installmentId=6, approved=true
2025-05-23T20:30:52.480+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Approved installment 2 for payment 2 by rid123
2025-05-23T20:30:52.482+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : All installments completed for payment: 2
2025-05-23T20:30:52.482+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 6
2025-05-23T20:30:52.482+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Installment approved successfully for order: 2 by admin
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:30:52.496+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:30:52.500+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:30:52.508+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.controller.PaymentController       : Successfully fetched 6 recently verified payments totaling Rs. 41000.0
2025-05-23T20:30:52.903+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:30:52.903+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:31:11.007+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:11.007+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:12.456+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:12.456+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:15.181+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:15.181+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:15.182+05:30  WARN 13276 --- [sdpbackend] [http-nio-8083-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'orderId': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "undefined"]
2025-05-23T20:31:17.809+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:17.809+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:17.810+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 2
2025-05-23T20:31:17.815+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 2
2025-05-23T20:31:17.823+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=21000.0, remaining=0.0, status=partial
2025-05-23T20:31:17.824+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Order 2 has installment plan: 50% Split (2 installments, current: 2, total paid: 21000.0)
2025-05-23T20:31:22.904+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:22.905+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:32.361+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:32.361+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:32.372+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:32.373+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:33.338+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:33.338+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:33.339+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:33.339+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:31:52.903+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:31:52.903+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:00.457+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:00.457+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:02.602+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:02.602+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:14.862+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:14.862+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:14.863+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:14.863+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:14.864+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:14.864+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:16.856+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:16.856+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:17.876+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:17.876+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:17.886+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:17.887+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:22.914+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:22.914+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:25.467+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:32:25.467+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:32:25.471+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.EventService      : Creating or updating event for order ID: 3, fully paid: true
2025-05-23T20:32:25.473+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.EventService      : Creating new event for order ID: 3
2025-05-23T20:32:25.474+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.EventService      : Event saved with ID: 3, payment status: PAID, color: #4CAF50
2025-05-23T20:32:25.474+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.EventService      : Event notification created for order ID: 3
2025-05-23T20:32:34.712+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:34.712+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:35.987+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:35.987+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:37.853+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:37.853+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:37.854+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 3
2025-05-23T20:32:37.858+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 3
2025-05-23T20:32:37.859+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=22000.0, status=pending
2025-05-23T20:32:37.860+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Order 3 payment summary - Total: 22000.0, Paid: 0.0, Remaining: 22000.0, Status: pending
2025-05-23T20:32:37.872+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:37.872+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:37.872+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:37.872+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:37.873+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 3
2025-05-23T20:32:37.873+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 3
2025-05-23T20:32:37.873+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 3
2025-05-23T20:32:37.874+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Order timing: 6 days until event, 0 weeks
2025-05-23T20:32:37.876+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:32:37.877+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan not available: 50% Split (2 installments) - insufficient time
2025-05-23T20:32:37.878+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan not available: 33% Split (3 installments) - insufficient time
2025-05-23T20:32:37.878+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Plan not available: 25% Split (4 installments) - insufficient time
2025-05-23T20:32:37.878+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.sdpbackend.service.PaymentService    : Total available plans: 1
2025-05-23T20:32:37.879+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.controller.PaymentController       : Found 1 available installment plans for order 3
2025-05-23T20:32:42.401+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:42.402+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:42.402+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.controller.PaymentController       : Initiating PayHere payment for order ID: 3 with installment plan: 1 installment: 1
2025-05-23T20:32:42.408+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Processing payment: orderId=3, amount=22000.0, method=payhere, installmentPlan=1
2025-05-23T20:32:42.409+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Payment deadline validation passed. Deadline: 2025-05-28T20:30, Current time: 2025-05-23T20:32:42.409656200
2025-05-23T20:32:42.409+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Initiating PayHere payment for order: 3
2025-05-23T20:32:42.409+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.sdpbackend.service.PaymentService    : Generated PayHere parameters for order: 3 (NO DB records created)
2025-05-23T20:32:45.610+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:45.610+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:47.604+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:47.604+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:47.605+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 3
2025-05-23T20:32:47.609+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 3
2025-05-23T20:32:47.610+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=22000.0, status=pending
2025-05-23T20:32:47.611+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Order 3 payment summary - Total: 22000.0, Paid: 0.0, Remaining: 22000.0, Status: pending
2025-05-23T20:32:47.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:47.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:47.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:47.644+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:47.645+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 3
2025-05-23T20:32:47.645+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 3
2025-05-23T20:32:47.645+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 3
2025-05-23T20:32:47.646+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Order timing: 6 days until event, 0 weeks
2025-05-23T20:32:47.648+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:32:47.649+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan not available: 50% Split (2 installments) - insufficient time
2025-05-23T20:32:47.650+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan not available: 33% Split (3 installments) - insufficient time
2025-05-23T20:32:47.650+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Plan not available: 25% Split (4 installments) - insufficient time
2025-05-23T20:32:47.650+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.sdpbackend.service.PaymentService    : Total available plans: 1
2025-05-23T20:32:47.651+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Found 1 available installment plans for order 3
2025-05-23T20:32:56.153+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:56.153+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:32:56.154+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Uploading payment slip for order: 3
2025-05-23T20:32:56.159+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=3, amount=22000.0
2025-05-23T20:32:56.160+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : No active payment found for order 3, creating new bank transfer payment
2025-05-23T20:32:56.160+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 3 with amount 22000.0
2025-05-23T20:32:56.160+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Setup full payment with amount: 22000.0
2025-05-23T20:32:56.162+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 3 - NO installment records created
2025-05-23T20:32:56.164+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 1 for payment 3 with slip upload (ONLY current installment)
2025-05-23T20:32:56.165+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 3
2025-05-23T20:32:58.266+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:32:58.266+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:08.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:08.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:08.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-2] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:08.967+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:12.277+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:12.277+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:12.278+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:12.278+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:12.278+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:33:12.278+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:33:12.283+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:33:12.292+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 6 recently verified payments totaling Rs. 41000.0
2025-05-23T20:33:19.223+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:19.223+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:19.225+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 3, installment ID: 7
2025-05-23T20:33:19.228+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=3, installmentId=7, approved=false
2025-05-23T20:33:19.228+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Rejected installment 1 with reason: Fake by rid123
2025-05-23T20:33:19.228+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 7
2025-05-23T20:33:19.228+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Installment rejected for order: 3 - Reason: Fake by admin
2025-05-23T20:33:19.243+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:19.243+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:33:19.243+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:19.243+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:33:19.244+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:33:19.244+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:33:19.247+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:33:19.256+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Successfully fetched 6 recently verified payments totaling Rs. 41000.0
2025-05-23T20:33:30.280+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:30.280+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-10] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:33.239+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:33.239+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:33.240+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching payment summary for order ID: 3
2025-05-23T20:33:33.245+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Getting payment summary for order: 3
2025-05-23T20:33:33.246+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.sdpbackend.service.PaymentService    : Payment summary generated: totalPaid=0.0, remaining=22000.0, status=pending
2025-05-23T20:33:33.247+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Order 3 payment summary - Total: 22000.0, Paid: 0.0, Remaining: 22000.0, Status: pending
2025-05-23T20:33:33.261+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:33.261+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:33.261+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:33.261+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:33.262+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching available installment plans for order ID: 3
2025-05-23T20:33:33.262+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching installment options for order ID: 3
2025-05-23T20:33:33.263+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Getting available installment plans for order: 3
2025-05-23T20:33:33.264+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Order timing: 6 days until event, 0 weeks
2025-05-23T20:33:33.266+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan available: Full Payment (1 installments)
2025-05-23T20:33:33.267+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan not available: 50% Split (2 installments) - insufficient time
2025-05-23T20:33:33.267+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan not available: 33% Split (3 installments) - insufficient time
2025-05-23T20:33:33.268+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Plan not available: 25% Split (4 installments) - insufficient time
2025-05-23T20:33:33.268+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.sdpbackend.service.PaymentService    : Total available plans: 1
2025-05-23T20:33:33.269+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Found 1 available installment plans for order 3
2025-05-23T20:33:47.414+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:47.414+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:33:47.415+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.s.controller.PaymentController       : Uploading payment slip for order: 3
2025-05-23T20:33:47.420+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Uploading payment slip: orderId=3, amount=22000.0
2025-05-23T20:33:47.421+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : No active payment found for order 3, creating new bank transfer payment
2025-05-23T20:33:47.421+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Creating bank transfer payment for order 3 with amount 22000.0
2025-05-23T20:33:47.421+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Setup full payment with amount: 22000.0
2025-05-23T20:33:47.422+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Bank transfer payment created with ID: 4 - NO installment records created
2025-05-23T20:33:47.425+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Created NEW installment record 1 for payment 4 with slip upload (ONLY current installment)
2025-05-23T20:33:47.426+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-4] c.e.sdpbackend.service.PaymentService    : Payment slip uploaded successfully - Created installment 1 for payment 4
2025-05-23T20:33:49.518+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:33:49.518+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
2025-05-23T20:34:02.341+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:02.341+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:02.341+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:02.341+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-7] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:34:03.939+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:34:03.945+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-9] c.e.s.controller.PaymentController       : Successfully fetched 1 pending verification payments: {bank-transfer=1}
2025-05-23T20:34:03.953+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-3] c.e.s.controller.PaymentController       : Successfully fetched 6 recently verified payments totaling Rs. 41000.0
2025-05-23T20:34:05.178+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:05.178+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:05.180+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Verifying manual payment for order ID: 3, installment ID: 8
2025-05-23T20:34:05.183+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Verifying manual payment by installment: orderId=3, installmentId=8, approved=true
2025-05-23T20:34:05.183+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Approved installment 1 for payment 4 by rid123
2025-05-23T20:34:05.185+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : All installments completed for payment: 4
2025-05-23T20:34:05.185+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.sdpbackend.service.PaymentService    : Payment verification completed successfully for installment: 8
2025-05-23T20:34:05.185+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-6] c.e.s.controller.PaymentController       : Installment approved successfully for order: 3 by admin
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: rid123 with role: ADMIN
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: rid123 with role: ROLE_ADMIN
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Fetching recently verified payments
2025-05-23T20:34:05.197+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Fetching pending verification payments
2025-05-23T20:34:05.200+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-8] c.e.s.controller.PaymentController       : Successfully fetched 0 pending verification payments: {}
2025-05-23T20:34:05.209+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-5] c.e.s.controller.PaymentController       : Successfully fetched 7 recently verified payments totaling Rs. 63000.0
2025-05-23T20:34:15.879+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Processing token for user: liya123 with role: CUSTOMER
2025-05-23T20:34:15.879+05:30  INFO 13276 --- [sdpbackend] [http-nio-8083-exec-1] c.e.s.config.JwtAuthenticationFilter     : Authenticated user: liya123 with role: ROLE_CUSTOMER
